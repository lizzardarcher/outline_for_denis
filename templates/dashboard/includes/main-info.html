<!-- Основная часть -->
<main class="col-md-7 main-content">
    <h2>Добро пожаловать в DomVPN</h2>
    <p>Тут вы можете приобрести ключ для приложения Outline</p>
    <div class="card mb-4">
        <div class="card-header">
            Главная
        </div>
        <div class="card-body">
            <ul class="list-group list-group-flush">
                <li class="list-group-item mb-4">
                    <i class="fa fa-key text-success"></i> Текущий ключ
                    {% if vpn_key.access_url %}
                        <small id="vpnkey" class="d-sm-none d-md-block text-muted float-end" style="cursor: pointer;"
                               onclick="copyToClipboard('{{ vpn_key.access_url }}')">
                            {{ vpn_key.access_url }} {{ vpn_key.server.country.name_for_app }}
                        </small>
                    {% else %}
                        <small class="text-muted float-end">У вас нет VPN ключей.</small>
                    {% endif %}
                </li>
                <li class="list-group-item mb-4">
                    Outline key
                    {% if vpn_key.access_url %}
                        <a href="" class="btn btn-outline-warning text-muted float-end"><i class="fa fa-refresh"></i>
                            Заменить</a>
                    {% else %}
                        <a href="" class="btn btn-outline-info text-muted float-end"><i class="fa fa-get-pocket"></i>
                            Создать
                            новый</a>
                    {% endif %}
                </li>
                <li class="list-group-item">
                    Баланс
                    <a href="" class="btn btn-outline-success text-muted float-end"><i class="fa fa-money"></i>
                        Пополнить</a>
                </li>
            </ul>
        </div>
    </div>
</main>

<script>
    function copyToClipboard(text) {
        navigator.clipboard.writeText(text)
        .then(() => {
          //  alert("Текст скопирован в буфер обмена!");
          document.getElementById('vpnkey').innerHTML =  "Скопировано!";
           setTimeout(() => {
            document.getElementById('vpnkey').innerHTML = "{{ vpn_key.access_url }} {{ vpn_key.server.country.name_for_app }}";
             }, 2000);
        })
        .catch(err => {
            console.error('Ошибка при копировании: ', err);
            alert("Не удалось скопировать текст.");
        });
    }
</script>


